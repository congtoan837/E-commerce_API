<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Danh sách nhân viên</title>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" th:href="@{/css/font-awesome.min.css}">
<link
	href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900"
	rel="stylesheet">

<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" th:href="@{/css/admin.css}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
</head>
<style>
body {
	padding-right: 0 !important
}
</style>
<body>
	<div class="wrapper d-flex align-items-stretch">
		<nav id="sidebar">
			<div class="custom-menu">
				<button type="button" id="sidebarCollapse" class="btn btn-primary">
					<i class="fa fa-bars"></i> <span class="sr-only">Toggle Menu</span>
				</button>
			</div>
			<div class="p-4 pt-5">
				<h1>
					<a class="logo">ADMIN</a>
				</h1>
				<ul class="list-unstyled components mb-5">
					<li><a th:href="@{/admin}"><i class="fas fa-chart-line"></i>
							Thống kê</a></li>
					<li><a href="#pageSubmenu1" data-toggle="collapse"
						aria-expanded="false" class="dropdown-toggle"><i class="fas fa-file-invoice-dollar"></i> 
									Quản lý đơn hàng</a>
						<ul class="collapse list-unstyled" id="pageSubmenu1">
							<li><a th:href="@{/record/Add}"><i class="fa fa-plus-square"></i>
									Danh sách đơn hàng</a></li>
							<li><a th:href="@{/record/List}"><i class="fa fa-list-alt"></i>
									Tạo đơn hàng</a></li>
						</ul></li>
					<li><a href="#pageSubmenu2" data-toggle="collapse"
						aria-expanded="false" class="dropdown-toggle"><i class="fas fa-archive"></i> Quản lý sản phẩm</a>
						<ul class="collapse list-unstyled" id="pageSubmenu2">
							<li><a th:href="@{/admin/product}"><i class="fa fa-list-alt"></i>
									Danh sách sản phẩm</a></li>
							<li><a th:href="@{/admin/category}"><i class="fa fa-list-alt"></i>
									Danh mục sản phẩm</a></li>
						</ul></li>
					<li><a th:href="@{/admin/customer}"><i class="fas fa-user"></i>
									Quản lý khách hàng</a></li>
					<li><a href="#pageSubmenu3" data-toggle="collapse"
						aria-expanded="false" class="dropdown-toggle">
						<i class="fas fa-gifts" aria-hidden="true"></i> Khuyến mãi</a>
						<ul class="collapse list-unstyled" id="pageSubmenu3">
							<li><a th:href="@{/promotion/add}"><i class="fa fa-plus-square"></i>
									Thêm mã khuyến mãi</a></li>
							<li><a th:href="@{/promotion/list}"><i class="fa fa-plus-square"></i>
									Danh sách khuyến mãi</a></li>
						</ul></li>
					<li><a href="#pageSubmenu4" data-toggle="collapse"
						aria-expanded="false" class="dropdown-toggle"><i class="fab fa-blogger-b" aria-hidden="true"></i> Blog</a>
						<ul class="collapse list-unstyled" id="pageSubmenu4">
							<li><a th:href="@{/blog/list}"><i class="fa fa-plus-square"></i>
									Danh sách Blog</a></li>
							<li><a th:href="@{/blog/add}"><i class="fa fa-list-alt"></i>
									Thêm Blog</a></li>
						</ul></li>
					<li><a th:href="@{/admin/account}"><i class="fas fa-key"></i> Quản lý tài khoản</a></li>
				</ul>

				<div class="mb-5">
					<h3 class="h6 col text-center">Tiếng Việt | English</h3>
					<form action="#" class="colorlib-subscribe-form">
						<div class="form-group d-flex">
							<div class="icon"></div>
						</div>
					</form>
				</div>

				<div class="footer">
					<p>
						<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
						Copyright &copy;
						<script>
							document.write(new Date().getFullYear());
						</script>
						All rights reserved | FPT Polytechnic
						<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
					</p>
				</div>
				<form th:action="@{admin/logout}" method="Post">
					<div class="col text-center" style="padding-top: 50px">
						<button type="submit" class="btn btn-info btn-lg"> Đăng Xuất</button>
					</div>
				</form>

			</div>
		</nav>

		<!-- Page Content  -->
		<div id="content" class="p-4 p-md-5 pt-5">
			<div>
				<h2 class="mb-4 float-left">DANH SÁCH KHÁCH HÀNG</h2>
				<button type="button" class="btn btn-primary float-right"
					data-toggle="modal" id="btnadd" data-target="#Add">Thêm khách hàng</button>
			</div>
			<table class="table table-striped">
				<thead class="thead-dark">
					<tr>
						<th scope="col">Id</th>
						<th scope="col">Hình</th>
						<th scope="col">Họ tên</th>
						<th scope="col">Email</th>
						<th scope="col">SĐT</th>
						<th scope="col">Mật khẩu</th>
						<th scope="col">Địa chỉ</th>
						<th scope="col">Trạng thái</th>
						<th scope="col" style="width: 120px"></th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="item : ${Customer}">
						<th th:text=${item.id}></th>
						<th><img th:src="@{'../images/' + ${item.image}}"
							height="50px"></th>
						<td th:text=${item.name}></td>
						<td th:text=${item.email}></td>
						<td th:text=${item.phone}></td>
						<td th:text=${item.password}></td>
						<td th:text=${item.address}></td>
						<td th:text=${item.status}></td>
						<td>
							<form th:action="@{deletecustomer/{id}(id = ${item.Id})}" method="post">
								<button type="button" class="btn btn-primary btn-sm" title="sửa"
									id="btnedit" data-toggle="modal" data-target="#Edit" th:data-id="${item.Id}">
									Sửa
								</button>
								<button type="submit" class="btn btn-primary btn-sm" title="xoá">
									Xóa
								</button>
							</form>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- End Page Content  -->
	</div>

	<script src="https://kit.fontawesome.com/bc9d44c30b.js"></script>
	<script th:src="@{/js/jquery-3.2.1.min.js}"></script>
	<script th:src="@{/js/popper.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/main.js}"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
</body>
<!-- Modal Add-->
<div class="modal fade" id="Add" tabindex="-1" role="dialog"
	aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered " role="document">
		<div class="modal-content">
			<form th:action="@{/admin/newcustomer}" method="post">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLongTitle">Thêm khách hàng</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">Họ Tên</label>
	    				<div class="col-sm-9">
	      					<input type="text" id="1" th:name="name" class="form-control" placeholder="Enter full name">
	    				</div>
  					</div>
					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">Email</label>
	    				<div class="col-sm-9">
	      					<input type="text" id="2" th:name="email" class="form-control" placeholder="Enter email">
	    				</div>
  					</div>
					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">SĐT</label>
	    				<div class="col-sm-9">
	      					<input type="text" id="3" th:name="phone" class="form-control" placeholder="Enter Phone">
	    				</div>
  					</div>
  					<div class="form-group row">
  							<label class="col-sm-3 col-form-label">Hình ảnh</label>
					<div class="custom-file col-sm-9">
					    <input type="file" th:name="image" class="custom-file-input" id="customFile">
					    <label class="custom-file-label" for="customFile">Chọn tệp</label>
				  	</div>
				  	</div>
					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">Mật khẩu</label>
	    				<div class="col-sm-9">
	      					<input type="text" id="4" th:name="password" class="form-control" placeholder="Enter password">
	    				</div>
  					</div>
					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">Địa chỉ</label>
	    				<div class="col-sm-9">
	      					<input type="text" id="5" th:name="address" class="form-control" placeholder="Enter address">
	    				</div>
  					</div>
  					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">Trạng thái</label>
	    				<div class="col-sm-9">
	      					<select class="form-control" th:name="status">
						      <option>Activated</option>
						      <option>Not Activated</option>
				    		</select>
	    				</div>
  					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Hủy</button>
					<button type="submit" class="btn btn-primary">Lưu</button>
				</div>
			</form>
		</div>
	</div>
</div>

<!-- Modal Edit -->
<div class="modal fade" id="Edit" tabindex="-1" role="dialog"
	aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered " role="document">
		<div class="modal-content">
			<form th:action="@{/admin/editcustomer}" method="post" id="editform">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLongTitle">Thêm khách hàng</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">Họ Tên</label>
	    				<div class="col-sm-9">
	      					<input type="text" id="a" th:name="editname" class="form-control" placeholder="Enter full name">
	    				</div>
  					</div>
					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">Email</label>
	    				<div class="col-sm-9">
	      					<input type="text" id="b" th:name="editemail" class="form-control" placeholder="Enter email">
	    				</div>
  					</div>
					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">SĐT</label>
	    				<div class="col-sm-9">
	      					<input type="text" id="c" th:name="editphone" class="form-control" placeholder="Enter Phone">
	    				</div>
  					</div>
  					<div class="form-group row">
  							<label class="col-sm-3 col-form-label">Hình ảnh</label>
					<div class="custom-file col-sm-9">
					    <input type="file" th:name="editimage" class="custom-file-input" id="customFile">
					    <label class="custom-file-label" for="customFile">Chọn tệp</label>
				  	</div>
				  	</div>
					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">Mật khẩu</label>
	    				<div class="col-sm-9">
	      					<input type="text" id="d" th:name="editpassword" class="form-control" placeholder="Enter password">
	    				</div>
  					</div>
					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">Địa chỉ</label>
	    				<div class="col-sm-9">
	      					<input type="text" id="e" th:name="editaddress" class="form-control" placeholder="Enter address">
	    				</div>
  					</div>
  					<div class="form-group row">
	    					<label class="col-sm-3 col-form-label">Trạng thái</label>
	    				<div class="col-sm-9">
	      					<select class="form-control" id="f" th:name="editstatus">
						      <option>Activated</option>
						      <option>Not Activated</option>
				    		</select>
	    				</div>
  					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Hủy</button>
					<button type="submit" class="btn btn-primary">Lưu</button>
				</div>
			</form>
		</div>
	</div>
</div>
<script th:src="@{/js/customer.js}"></script>
<script th:inline="javascript">
		window.onload = function() {
			let message = /*[[(${message})]]*/ 'default';
			let status = /*[[(${status})]]*/ 'default';
		
			if(message != null && status == "1"){
				toastr.success(message)
			}if(message != null && status == "0"){
				toastr.error(message)
			}
		};
</script>
</html>